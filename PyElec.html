<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module PyElec</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>PyElec</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/astav/Documents/Magic_Spreadsheet/PyElec/PyElec.py">/Users/astav/Documents/Magic_Spreadsheet/PyElec/PyElec.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="argparse.html">argparse</a><br>
<a href="matplotlib.cm.html">matplotlib.cm</a><br>
</td><td width="25%" valign=top><a href="scipy.integrate.html">scipy.integrate</a><br>
<a href="json.html">json</a><br>
</td><td width="25%" valign=top><a href="numpy.html">numpy</a><br>
<a href="os.html">os</a><br>
</td><td width="25%" valign=top><a href="pandas.html">pandas</a><br>
<a href="matplotlib.pyplot.html">matplotlib.pyplot</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="builtins.html#object">builtins.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="PyElec.html#PyElec">PyElec</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="PyElec">class <strong>PyElec</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="PyElec-ElectroProduction"><strong>ElectroProduction</strong></a>(self, a, t, E_o_MeV, X_t_o, X_fe_o, scatter=1)</dt><dd><tt>Calculated&nbsp;the&nbsp;electroneutron&nbsp;production&nbsp;-&nbsp;validated&nbsp;on&nbsp;Cu&nbsp;radiator&nbsp;to&nbsp;spreadsheet&nbsp;3/5/2021&nbsp;AJS<br>
a&nbsp;-&nbsp;atomic&nbsp;number&nbsp;of&nbsp;the&nbsp;target,&nbsp;used&nbsp;to&nbsp;determine&nbsp;fac<br>
t&nbsp;-&nbsp;tgt_thick_mg_cm2&nbsp;/&nbsp;1000<br>
X_t_o&nbsp;-&nbsp;target&nbsp;radiation&nbsp;length&nbsp;(g/cm2)<br>
X_fe_o&nbsp;-&nbsp;iron&nbsp;radiation&nbsp;length&nbsp;(g/cm2)<br>
E_o_MeV&nbsp;-&nbsp;beam&nbsp;energy&nbsp;(MeV)<br>
scatter&nbsp;-&nbsp;scatter&nbsp;factor<br>
&nbsp;<br>
Formula:<br>
&nbsp;<br>
result&nbsp;=&nbsp;numerator&nbsp;/&nbsp;denominator&nbsp;-&nbsp;numpy&nbsp;array</tt></dd></dl>

<dl><dt><a name="PyElec-PhotoProduction"><strong>PhotoProduction</strong></a>(self, a, t, E_o_MeV, X_t_o, X_fe_o)</dt><dd><tt>Calculated&nbsp;the&nbsp;photoneutron&nbsp;production&nbsp;-&nbsp;validated&nbsp;on&nbsp;Cu&nbsp;radiator&nbsp;to&nbsp;spreadsheet&nbsp;3/5/2021&nbsp;AJS<br>
a&nbsp;-&nbsp;atomic&nbsp;number&nbsp;of&nbsp;the&nbsp;element&nbsp;used&nbsp;to&nbsp;determin&nbsp;factor<br>
t&nbsp;-&nbsp;target&nbsp;thickness&nbsp;<br>
E_o_MeV&nbsp;-&nbsp;photon&nbsp;energy&nbsp;(MeV)<br>
X_t_o&nbsp;-&nbsp;target&nbsp;radiation&nbsp;length&nbsp;(g/cm2)<br>
X_fe_o&nbsp;-&nbsp;iron&nbsp;radiation&nbsp;length&nbsp;(g/cm2)<br>
&nbsp;<br>
Formula:<br>
rel_t&nbsp;-&nbsp;target&nbsp;thicknesss&nbsp;(X/X_o)<br>
n&nbsp;=&nbsp;rel_t^2&nbsp;*&nbsp;X_t_o&nbsp;/2&nbsp;*&nbsp;integral(dk/k)&nbsp;from&nbsp;100&nbsp;to&nbsp;E_o<br>
d&nbsp;=&nbsp;0.572&nbsp;*&nbsp;X_fe_o&nbsp;*&nbsp;Eo&nbsp;*&nbsp;integral&nbsp;(dk&nbsp;/&nbsp;k^2)&nbsp;from&nbsp;100&nbsp;to&nbsp;E_o<br>
&nbsp;<br>
result&nbsp;=&nbsp;n&nbsp;/&nbsp;d</tt></dd></dl>

<dl><dt><a name="PyElec-RadiationLength"><strong>RadiationLength</strong></a>(self, z, a)</dt><dd><tt>Calculate&nbsp;radiation&nbsp;length<br>
&nbsp;<br>
Not&nbsp;sure&nbsp;the&nbsp;purpose&nbsp;of&nbsp;this&nbsp;since&nbsp;we&nbsp;have&nbsp;it&nbsp;in&nbsp;lookup&nbsp;table,&nbsp;<br>
but&nbsp;we&nbsp;can&nbsp;calculate&nbsp;the&nbsp;radiation&nbsp;length&nbsp;as&nbsp;the&nbsp;average&nbsp;of&nbsp;the&nbsp;following&nbsp;<br>
&nbsp;<br>
x01&nbsp;=&nbsp;716.405&nbsp;*&nbsp;at_&nbsp;*&nbsp;(1&nbsp;+&nbsp;0.12&nbsp;*&nbsp;((z_&nbsp;/&nbsp;82)&nbsp;^&nbsp;2))&nbsp;/&nbsp;(z_&nbsp;*&nbsp;(z_&nbsp;+&nbsp;1)&nbsp;*&nbsp;Log(183&nbsp;*&nbsp;1&nbsp;/&nbsp;(z_&nbsp;^&nbsp;0.3333)))<br>
x02&nbsp;=&nbsp;716.405&nbsp;*&nbsp;at_&nbsp;/&nbsp;(z_&nbsp;^&nbsp;2&nbsp;*&nbsp;Log(183&nbsp;/&nbsp;(z_&nbsp;^&nbsp;0.3333))&nbsp;+&nbsp;z_&nbsp;*&nbsp;Log(1440&nbsp;/&nbsp;(z_&nbsp;^&nbsp;0.6666)))<br>
f1&nbsp;=&nbsp;(x01&nbsp;+&nbsp;x02)&nbsp;/&nbsp;2</tt></dd></dl>

<dl><dt><a name="PyElec-RoofThickness"><strong>RoofThickness</strong></a>(self, x, tr, td, ri)</dt><dd><tt>This&nbsp;function&nbsp;computes&nbsp;the&nbsp;roof&nbsp;thickness&nbsp;as&nbsp;function&nbsp;of&nbsp;the&nbsp;angle&nbsp;x</tt></dd></dl>

<dl><dt><a name="PyElec-RunForHall"><strong>RunForHall</strong></a>(self, hall='hall_a_rr', setup_config_name='1', position_m=[0, 0], tgt_thick_mg_cm2=[774, 774], current_uA=50, energy_GeV=2.2, element=['Pb', 'Pb'], critical_radius_cm=3.125, critical_distance_m=1.25, scatter_factor=0.5, rbm_run=True, start_dist=180, end_dist=1000, hall_loc_x=0, hall_loc_y=0, verbose=0)</dt></dl>

<dl><dt><a name="PyElec-ScatterProduction"><strong>ScatterProduction</strong></a>(self, z, a, t, X_t_o, position, E_o_MeV, current_uA, crit_radius_cm, crit_distance_cm, f_scatter=0.5)</dt><dd><tt>The&nbsp;target&nbsp;specific&nbsp;values&nbsp;are&nbsp;passed&nbsp;in&nbsp;as&nbsp;arrays&nbsp;-&nbsp;verified&nbsp;with&nbsp;lead&nbsp;target&nbsp;1000&nbsp;mg/cm2&nbsp;12/6/2021&nbsp;AJS<br>
z&nbsp;-&nbsp;array&nbsp;of&nbsp;&nbsp;z&nbsp;values<br>
a&nbsp;=&nbsp;array&nbsp;of&nbsp;A&nbsp;values<br>
t&nbsp;-&nbsp;array&nbsp;of&nbsp;target&nbsp;thicknesses&nbsp;in&nbsp;g/cm2<br>
X_t_o&nbsp;-&nbsp;array&nbsp;of&nbsp;relative&nbsp;thicknesses&nbsp;in&nbsp;t&nbsp;/&nbsp;X_o<br>
position&nbsp;-&nbsp;array&nbsp;of&nbsp;the&nbsp;target&nbsp;locations&nbsp;in&nbsp;cm<br>
E_o_MeV&nbsp;-&nbsp;beam&nbsp;energy&nbsp;in&nbsp;MeV<br>
current_uA&nbsp;-&nbsp;beam&nbsp;current&nbsp;in&nbsp;uA<br>
crit_radius_cm&nbsp;-&nbsp;critical&nbsp;window&nbsp;radius&nbsp;in&nbsp;cm<br>
crit_distance_cm&nbsp;-&nbsp;critical&nbsp;window&nbsp;distance&nbsp;to&nbsp;pivot&nbsp;in&nbsp;cm<br>
&nbsp;<br>
Excel&nbsp;implementation<br>
f2&nbsp;=&nbsp;0.157&nbsp;*&nbsp;ts_&nbsp;*&nbsp;cur_&nbsp;/&nbsp;(e0_&nbsp;*&nbsp;thet_&nbsp;^&nbsp;2&nbsp;+&nbsp;0.157&nbsp;*&nbsp;ts_&nbsp;/&nbsp;e0_)<br>
f2&nbsp;=&nbsp;f2&nbsp;+&nbsp;(e0_&nbsp;*&nbsp;cur_&nbsp;-&nbsp;f2)&nbsp;*&nbsp;Exp(-thet_&nbsp;^&nbsp;2&nbsp;*&nbsp;e0_&nbsp;^&nbsp;2&nbsp;/&nbsp;(21.2&nbsp;^&nbsp;2&nbsp;*&nbsp;tm_))</tt></dd></dl>

<dl><dt><a name="PyElec-SheildingCoefficients"><strong>SheildingCoefficients</strong></a>(self, energy_mev)</dt><dd><tt>Return&nbsp;the&nbsp;shielding&nbsp;coefficients&nbsp;based&nbsp;on&nbsp;energy&nbsp;of&nbsp;the&nbsp;beam</tt></dd></dl>

<dl><dt><a name="PyElec-__init__"><strong>__init__</strong></a>(self)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="PyElec-get_data_params"><strong>get_data_params</strong></a>(self, fle='data_parameters.json')</dt></dl>

<dl><dt><a name="PyElec-get_element_prop"><strong>get_element_prop</strong></a>(self, elem='H', fle='target_za_data.csv')</dt></dl>

<dl><dt><a name="PyElec-get_hall_data"><strong>get_hall_data</strong></a>(self, fle='hall_data.csv')</dt></dl>

<dl><dt><a name="PyElec-get_material_prop"><strong>get_material_prop</strong></a>(self, elem='H', fle='mat_radlength_density.csv')</dt></dl>

<dl><dt><a name="PyElec-linear_interp"><strong>linear_interp</strong></a>(self, key, key_array, val_array)</dt><dd><tt>Simple&nbsp;function&nbsp;for&nbsp;linear&nbsp;interpolation&nbsp;-&nbsp;<br>
&nbsp;<br>
key:&nbsp;intermediate&nbsp;value&nbsp;at&nbsp;which&nbsp;the&nbsp;value&nbsp;should&nbsp;be&nbsp;interpolated&nbsp;to<br>
key_array:&nbsp;array&nbsp;of&nbsp;keys&nbsp;defining&nbsp;the&nbsp;independent&nbsp;variable<br>
val_array:&nbsp;array&nbsp;of&nbsp;values&nbsp;defining&nbsp;the&nbsp;dependent&nbsp;variable<br>
&nbsp;<br>
Note:&nbsp;could&nbsp;use&nbsp;built-in&nbsp;functions&nbsp;but&nbsp;we'll&nbsp;keep&nbsp;it&nbsp;explicit&nbsp;for&nbsp;now</tt></dd></dl>

<dl><dt><a name="PyElec-run_lookup_params"><strong>run_lookup_params</strong></a>(self, energy)</dt></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-main"><strong>main</strong></a>(config)</dt></dl>
 <dl><dt><a name="-main_test"><strong>main_test</strong></a>()</dt></dl>
</td></tr></table>
</body></html>